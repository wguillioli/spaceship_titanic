<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.555">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>spaceship_titanic</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="spaceship_titanic_files/libs/clipboard/clipboard.min.js"></script>
<script src="spaceship_titanic_files/libs/quarto-html/quarto.js"></script>
<script src="spaceship_titanic_files/libs/quarto-html/popper.min.js"></script>
<script src="spaceship_titanic_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="spaceship_titanic_files/libs/quarto-html/anchor.min.js"></script>
<link href="spaceship_titanic_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="spaceship_titanic_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="spaceship_titanic_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="spaceship_titanic_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="spaceship_titanic_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">spaceship_titanic</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>Spaceship Titanic</p>
<p>Objective: learn Quarto and practice caret</p>
<p><a href="https://www.kaggle.com/c/spaceship-titanic/" class="uri">https://www.kaggle.com/c/spaceship-titanic/</a></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># project setup</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(<span class="at">list =</span> <span class="fu">ls</span>())</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(tidyverse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Loading required package: tidyverse</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
✔ dplyr     1.1.4     ✔ readr     2.1.5
✔ forcats   1.0.0     ✔ stringr   1.5.1
✔ ggplot2   3.5.1     ✔ tibble    3.2.1
✔ lubridate 1.9.3     ✔ tidyr     1.3.1
✔ purrr     1.0.2     
── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
✖ dplyr::filter() masks stats::filter()
✖ dplyr::lag()    masks stats::lag()
ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors</code></pre>
</div>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(caret)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Loading required package: caret
Loading required package: lattice

Attaching package: 'caret'

The following object is masked from 'package:purrr':

    lift</code></pre>
</div>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(visdat)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Loading required package: visdat</code></pre>
</div>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(mice) <span class="co">#imputations</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Loading required package: mice

Attaching package: 'mice'

The following object is masked from 'package:stats':

    filter

The following objects are masked from 'package:base':

    cbind, rbind</code></pre>
</div>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(rpart)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Loading required package: rpart</code></pre>
</div>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(rpart.plot)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Loading required package: rpart.plot</code></pre>
</div>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(rattle) <span class="co">#pretty print trees</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Loading required package: rattle
Loading required package: bitops
Rattle: A free graphical interface for data science with R.
Version 5.5.1 Copyright (c) 2006-2021 Togaware Pty Ltd.
Type 'rattle()' to shake, rattle, and roll your data.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>wd <span class="ot">&lt;-</span> <span class="st">"C:/GitHub/spaceship_titanic"</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="co"># setwd(wd) </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># load data </span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="co"># train</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>train <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="fu">paste0</span>(wd, <span class="st">"/data/train.csv"</span>),</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>                  <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span>,</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>                  <span class="at">na.strings =</span> <span class="st">""</span>)</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(train)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 8,693
Columns: 14
$ PassengerId  &lt;chr&gt; "0001_01", "0002_01", "0003_01", "0003_02", "0004_01", "0…
$ HomePlanet   &lt;chr&gt; "Europa", "Earth", "Europa", "Europa", "Earth", "Earth", …
$ CryoSleep    &lt;chr&gt; "False", "False", "False", "False", "False", "False", "Fa…
$ Cabin        &lt;chr&gt; "B/0/P", "F/0/S", "A/0/S", "A/0/S", "F/1/S", "F/0/P", "F/…
$ Destination  &lt;chr&gt; "TRAPPIST-1e", "TRAPPIST-1e", "TRAPPIST-1e", "TRAPPIST-1e…
$ Age          &lt;dbl&gt; 39, 24, 58, 33, 16, 44, 26, 28, 35, 14, 34, 45, 32, 48, 2…
$ VIP          &lt;chr&gt; "False", "False", "True", "False", "False", "False", "Fal…
$ RoomService  &lt;dbl&gt; 0, 109, 43, 0, 303, 0, 42, 0, 0, 0, 0, 39, 73, 719, 8, 32…
$ FoodCourt    &lt;dbl&gt; 0, 9, 3576, 1283, 70, 483, 1539, 0, 785, 0, 0, 7295, 0, 1…
$ ShoppingMall &lt;dbl&gt; 0, 25, 0, 371, 151, 0, 3, 0, 17, 0, NA, 589, 1123, 65, 12…
$ Spa          &lt;dbl&gt; 0, 549, 6715, 3329, 565, 291, 0, 0, 216, 0, 0, 110, 0, 0,…
$ VRDeck       &lt;dbl&gt; 0, 44, 49, 193, 2, 0, 0, NA, 0, 0, 0, 124, 113, 24, 7, 0,…
$ Name         &lt;chr&gt; "Maham Ofracculy", "Juanna Vines", "Altark Susent", "Sola…
$ Transported  &lt;chr&gt; "False", "True", "False", "False", "True", "True", "True"…</code></pre>
</div>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(train)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> PassengerId         HomePlanet         CryoSleep            Cabin          
 Length:8693        Length:8693        Length:8693        Length:8693       
 Class :character   Class :character   Class :character   Class :character  
 Mode  :character   Mode  :character   Mode  :character   Mode  :character  
                                                                            
                                                                            
                                                                            
                                                                            
 Destination             Age            VIP             RoomService     
 Length:8693        Min.   : 0.00   Length:8693        Min.   :    0.0  
 Class :character   1st Qu.:19.00   Class :character   1st Qu.:    0.0  
 Mode  :character   Median :27.00   Mode  :character   Median :    0.0  
                    Mean   :28.83                      Mean   :  224.7  
                    3rd Qu.:38.00                      3rd Qu.:   47.0  
                    Max.   :79.00                      Max.   :14327.0  
                    NA's   :179                        NA's   :181      
   FoodCourt        ShoppingMall          Spa              VRDeck       
 Min.   :    0.0   Min.   :    0.0   Min.   :    0.0   Min.   :    0.0  
 1st Qu.:    0.0   1st Qu.:    0.0   1st Qu.:    0.0   1st Qu.:    0.0  
 Median :    0.0   Median :    0.0   Median :    0.0   Median :    0.0  
 Mean   :  458.1   Mean   :  173.7   Mean   :  311.1   Mean   :  304.9  
 3rd Qu.:   76.0   3rd Qu.:   27.0   3rd Qu.:   59.0   3rd Qu.:   46.0  
 Max.   :29813.0   Max.   :23492.0   Max.   :22408.0   Max.   :24133.0  
 NA's   :183       NA's   :208       NA's   :183       NA's   :188      
     Name           Transported       
 Length:8693        Length:8693       
 Class :character   Class :character  
 Mode  :character   Mode  :character  
                                      
                                      
                                      
                                      </code></pre>
</div>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># test</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>test <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="fu">paste0</span>(wd, <span class="st">"/data/test.csv"</span>),</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>                  <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span>,</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>                  <span class="at">na.strings =</span> <span class="st">""</span>)</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(test)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 4,277
Columns: 13
$ PassengerId  &lt;chr&gt; "0013_01", "0018_01", "0019_01", "0021_01", "0023_01", "0…
$ HomePlanet   &lt;chr&gt; "Earth", "Earth", "Europa", "Europa", "Earth", "Earth", "…
$ CryoSleep    &lt;chr&gt; "True", "False", "True", "False", "False", "False", "True…
$ Cabin        &lt;chr&gt; "G/3/S", "F/4/S", "C/0/S", "C/1/S", "F/5/S", "F/7/P", "B/…
$ Destination  &lt;chr&gt; "TRAPPIST-1e", "TRAPPIST-1e", "55 Cancri e", "TRAPPIST-1e…
$ Age          &lt;dbl&gt; 27, 19, 31, 38, 20, 31, 21, 20, 23, 24, 19, 45, 44, 46, 2…
$ VIP          &lt;chr&gt; "False", "False", "False", "False", "False", "False", "Fa…
$ RoomService  &lt;dbl&gt; 0, 0, 0, 0, 10, 0, 0, 0, 0, 0, 339, 932, 0, 0, 0, 0, 2, 0…
$ FoodCourt    &lt;dbl&gt; 0, 9, 0, 6652, 0, 1615, NA, 0, 0, 639, 3, 74, 1561, 0, 0,…
$ ShoppingMall &lt;dbl&gt; 0, 0, 0, 0, 635, 263, 0, 0, 0, 0, 136, NA, 0, 0, 0, 0, 25…
$ Spa          &lt;dbl&gt; 0, 2823, 0, 181, 0, 113, 0, 0, 0, 0, 237, 7, 14, 0, 1687,…
$ VRDeck       &lt;dbl&gt; 0, 0, 0, 585, 0, 60, 0, 0, 0, 0, 0, 1010, 224, 0, 92, NA,…
$ Name         &lt;chr&gt; "Nelly Carsoning", "Lerome Peckers", "Sabih Unhearfus", "…</code></pre>
</div>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(test)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> PassengerId         HomePlanet         CryoSleep            Cabin          
 Length:4277        Length:4277        Length:4277        Length:4277       
 Class :character   Class :character   Class :character   Class :character  
 Mode  :character   Mode  :character   Mode  :character   Mode  :character  
                                                                            
                                                                            
                                                                            
                                                                            
 Destination             Age            VIP             RoomService     
 Length:4277        Min.   : 0.00   Length:4277        Min.   :    0.0  
 Class :character   1st Qu.:19.00   Class :character   1st Qu.:    0.0  
 Mode  :character   Median :26.00   Mode  :character   Median :    0.0  
                    Mean   :28.66                      Mean   :  219.3  
                    3rd Qu.:37.00                      3rd Qu.:   53.0  
                    Max.   :79.00                      Max.   :11567.0  
                    NA's   :91                         NA's   :82       
   FoodCourt        ShoppingMall         Spa              VRDeck       
 Min.   :    0.0   Min.   :   0.0   Min.   :    0.0   Min.   :    0.0  
 1st Qu.:    0.0   1st Qu.:   0.0   1st Qu.:    0.0   1st Qu.:    0.0  
 Median :    0.0   Median :   0.0   Median :    0.0   Median :    0.0  
 Mean   :  439.5   Mean   : 177.3   Mean   :  303.1   Mean   :  310.7  
 3rd Qu.:   78.0   3rd Qu.:  33.0   3rd Qu.:   50.0   3rd Qu.:   36.0  
 Max.   :25273.0   Max.   :8292.0   Max.   :19844.0   Max.   :22272.0  
 NA's   :106       NA's   :98       NA's   :101       NA's   :80       
     Name          
 Length:4277       
 Class :character  
 Mode  :character  
                   
                   
                   
                   </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co"># combine to create our main dataset to work with d</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>train<span class="sc">$</span>dat <span class="ot">&lt;-</span> <span class="st">"train"</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>test<span class="sc">$</span>dat <span class="ot">&lt;-</span> <span class="st">"test"</span> </span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>test<span class="sc">$</span>Transported <span class="ot">&lt;-</span> <span class="st">"NA"</span></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>d <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(train,</span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a>               test)</span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(d)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 12,970
Columns: 15
$ PassengerId  &lt;chr&gt; "0001_01", "0002_01", "0003_01", "0003_02", "0004_01", "0…
$ HomePlanet   &lt;chr&gt; "Europa", "Earth", "Europa", "Europa", "Earth", "Earth", …
$ CryoSleep    &lt;chr&gt; "False", "False", "False", "False", "False", "False", "Fa…
$ Cabin        &lt;chr&gt; "B/0/P", "F/0/S", "A/0/S", "A/0/S", "F/1/S", "F/0/P", "F/…
$ Destination  &lt;chr&gt; "TRAPPIST-1e", "TRAPPIST-1e", "TRAPPIST-1e", "TRAPPIST-1e…
$ Age          &lt;dbl&gt; 39, 24, 58, 33, 16, 44, 26, 28, 35, 14, 34, 45, 32, 48, 2…
$ VIP          &lt;chr&gt; "False", "False", "True", "False", "False", "False", "Fal…
$ RoomService  &lt;dbl&gt; 0, 109, 43, 0, 303, 0, 42, 0, 0, 0, 0, 39, 73, 719, 8, 32…
$ FoodCourt    &lt;dbl&gt; 0, 9, 3576, 1283, 70, 483, 1539, 0, 785, 0, 0, 7295, 0, 1…
$ ShoppingMall &lt;dbl&gt; 0, 25, 0, 371, 151, 0, 3, 0, 17, 0, NA, 589, 1123, 65, 12…
$ Spa          &lt;dbl&gt; 0, 549, 6715, 3329, 565, 291, 0, 0, 216, 0, 0, 110, 0, 0,…
$ VRDeck       &lt;dbl&gt; 0, 44, 49, 193, 2, 0, 0, NA, 0, 0, 0, 124, 113, 24, 7, 0,…
$ Name         &lt;chr&gt; "Maham Ofracculy", "Juanna Vines", "Altark Susent", "Sola…
$ Transported  &lt;chr&gt; "False", "True", "False", "False", "True", "True", "True"…
$ dat          &lt;chr&gt; "train", "train", "train", "train", "train", "train", "tr…</code></pre>
</div>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(d)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> PassengerId         HomePlanet         CryoSleep            Cabin          
 Length:12970       Length:12970       Length:12970       Length:12970      
 Class :character   Class :character   Class :character   Class :character  
 Mode  :character   Mode  :character   Mode  :character   Mode  :character  
                                                                            
                                                                            
                                                                            
                                                                            
 Destination             Age            VIP             RoomService     
 Length:12970       Min.   : 0.00   Length:12970       Min.   :    0.0  
 Class :character   1st Qu.:19.00   Class :character   1st Qu.:    0.0  
 Mode  :character   Median :27.00   Mode  :character   Median :    0.0  
                    Mean   :28.77                      Mean   :  222.9  
                    3rd Qu.:38.00                      3rd Qu.:   49.0  
                    Max.   :79.00                      Max.   :14327.0  
                    NA's   :270                        NA's   :263      
   FoodCourt      ShoppingMall          Spa              VRDeck       
 Min.   :    0   Min.   :    0.0   Min.   :    0.0   Min.   :    0.0  
 1st Qu.:    0   1st Qu.:    0.0   1st Qu.:    0.0   1st Qu.:    0.0  
 Median :    0   Median :    0.0   Median :    0.0   Median :    0.0  
 Mean   :  452   Mean   :  174.9   Mean   :  308.5   Mean   :  306.8  
 3rd Qu.:   77   3rd Qu.:   29.0   3rd Qu.:   57.0   3rd Qu.:   42.0  
 Max.   :29813   Max.   :23492.0   Max.   :22408.0   Max.   :24133.0  
 NA's   :289     NA's   :306       NA's   :284       NA's   :268      
     Name           Transported            dat           
 Length:12970       Length:12970       Length:12970      
 Class :character   Class :character   Class :character  
 Mode  :character   Mode  :character   Mode  :character  
                                                         
                                                         
                                                         
                                                         </code></pre>
</div>
</div>
<p>Good to see a balanced dataset</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co"># y explore</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>train <span class="sc">%&gt;%</span></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Transported) <span class="sc">%&gt;%</span></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">p =</span> <span class="fu">round</span>(n<span class="sc">/</span><span class="fu">sum</span>(n),<span class="dv">3</span>)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 3
  Transported     n     p
  &lt;chr&gt;       &lt;int&gt; &lt;dbl&gt;
1 False        4315 0.496
2 True         4378 0.504</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co"># missing values</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>na_df <span class="ot">&lt;-</span> <span class="fu">sapply</span>(d, <span class="cf">function</span>(df){<span class="fu">sum</span>(<span class="fu">is.na</span>(df)<span class="sc">==</span><span class="cn">TRUE</span>);})</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>na_df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(na_df)</span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>na_df<span class="sc">$</span>var <span class="ot">&lt;-</span> <span class="fu">row.names</span>(na_df)</span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(na_df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>             na_df          var
PassengerId      0  PassengerId
HomePlanet     288   HomePlanet
CryoSleep      310    CryoSleep
Cabin          299        Cabin
Destination    274  Destination
Age            270          Age
VIP            296          VIP
RoomService    263  RoomService
FoodCourt      289    FoodCourt
ShoppingMall   306 ShoppingMall
Spa            284          Spa
VRDeck         268       VRDeck
Name           294         Name
Transported      0  Transported
dat              0          dat</code></pre>
</div>
</div>
<p>Most variables have ~300 NAs so let’s check if it’s a pattern.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">vis_miss</span>(d,</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>         <span class="at">sort_miss =</span> <span class="cn">TRUE</span>,</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>         <span class="co">#cluster = TRUE,</span></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">show_perc_col =</span> <span class="cn">TRUE</span>) <span class="co">#no concerning pattern is observed</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="spaceship_titanic_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>There isn’t an obvious pattern, but let’s double check</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="co"># variables with NA</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>vars_na <span class="ot">&lt;-</span> na_df <span class="sc">%&gt;%</span></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(na_df <span class="sc">&gt;</span> <span class="dv">0</span>) <span class="sc">%&gt;%</span></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(var)</span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a><span class="fu">md.pattern</span>(d[, vars_na<span class="sc">$</span>var],</span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a>           <span class="at">plot =</span> <span class="cn">TRUE</span>,</span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a>           <span class="at">rotate.names =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="spaceship_titanic_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>     RoomService VRDeck Age Destination Spa HomePlanet FoodCourt Name VIP Cabin
9887           1      1   1           1   1          1         1    1   1     1
240            1      1   1           1   1          1         1    1   1     1
239            1      1   1           1   1          1         1    1   1     1
8              1      1   1           1   1          1         1    1   1     1
240            1      1   1           1   1          1         1    1   1     0
9              1      1   1           1   1          1         1    1   1     0
5              1      1   1           1   1          1         1    1   1     0
236            1      1   1           1   1          1         1    1   0     1
7              1      1   1           1   1          1         1    1   0     1
4              1      1   1           1   1          1         1    1   0     1
1              1      1   1           1   1          1         1    1   0     1
10             1      1   1           1   1          1         1    1   0     0
232            1      1   1           1   1          1         1    0   1     1
10             1      1   1           1   1          1         1    0   1     1
5              1      1   1           1   1          1         1    0   1     1
2              1      1   1           1   1          1         1    0   1     0
3              1      1   1           1   1          1         1    0   0     1
234            1      1   1           1   1          1         0    1   1     1
3              1      1   1           1   1          1         0    1   1     1
3              1      1   1           1   1          1         0    1   1     1
7              1      1   1           1   1          1         0    1   1     0
5              1      1   1           1   1          1         0    1   0     1
8              1      1   1           1   1          1         0    0   1     1
1              1      1   1           1   1          1         0    0   1     1
227            1      1   1           1   1          0         1    1   1     1
4              1      1   1           1   1          0         1    1   1     1
7              1      1   1           1   1          0         1    1   1     1
7              1      1   1           1   1          0         1    1   1     0
2              1      1   1           1   1          0         1    1   0     1
7              1      1   1           1   1          0         1    0   1     1
1              1      1   1           1   1          0         1    0   1     1
2              1      1   1           1   1          0         1    0   1     1
3              1      1   1           1   1          0         0    1   1     1
234            1      1   1           1   0          1         1    1   1     1
4              1      1   1           1   0          1         1    1   1     1
3              1      1   1           1   0          1         1    1   1     1
1              1      1   1           1   0          1         1    1   1     1
2              1      1   1           1   0          1         1    1   1     0
4              1      1   1           1   0          1         1    1   0     1
5              1      1   1           1   0          1         1    0   1     1
1              1      1   1           1   0          1         1    0   1     1
4              1      1   1           1   0          1         0    1   1     1
8              1      1   1           1   0          0         1    1   1     1
1              1      1   1           1   0          0         0    1   1     1
214            1      1   1           0   1          1         1    1   1     1
5              1      1   1           0   1          1         1    1   1     1
8              1      1   1           0   1          1         1    1   1     1
1              1      1   1           0   1          1         1    1   1     0
1              1      1   1           0   1          1         1    1   1     0
5              1      1   1           0   1          1         1    1   0     1
3              1      1   1           0   1          1         1    0   1     1
1              1      1   1           0   1          1         1    0   1     0
4              1      1   1           0   1          1         0    1   1     1
1              1      1   1           0   1          1         0    1   1     0
5              1      1   1           0   1          0         1    1   1     1
1              1      1   1           0   1          0         1    1   0     1
4              1      1   1           0   0          1         1    1   1     1
1              1      1   1           0   0          1         1    1   1     1
219            1      1   0           1   1          1         1    1   1     1
3              1      1   0           1   1          1         1    1   1     1
6              1      1   0           1   1          1         1    1   1     1
3              1      1   0           1   1          1         1    1   1     0
8              1      1   0           1   1          1         1    1   0     1
1              1      1   0           1   1          1         1    1   0     0
3              1      1   0           1   1          1         1    0   1     1
4              1      1   0           1   1          1         0    1   1     1
3              1      1   0           1   1          0         1    1   1     1
1              1      1   0           1   1          0         1    1   1     1
1              1      1   0           1   0          1         1    1   1     1
1              1      1   0           1   0          1         1    1   1     0
7              1      1   0           0   1          1         1    1   1     1
1              1      1   0           0   1          1         0    1   1     1
211            1      0   1           1   1          1         1    1   1     1
7              1      0   1           1   1          1         1    1   1     1
8              1      0   1           1   1          1         1    1   1     1
4              1      0   1           1   1          1         1    1   1     0
1              1      0   1           1   1          1         1    1   0     1
5              1      0   1           1   1          1         1    0   1     1
8              1      0   1           1   1          1         0    1   1     1
2              1      0   1           1   1          0         1    1   1     1
4              1      0   1           1   0          1         1    1   1     1
7              1      0   1           0   1          1         1    1   1     1
1              1      0   1           0   1          1         1    1   0     1
6              1      0   0           1   1          1         1    1   1     1
1              1      0   0           1   1          1         1    0   1     1
1              1      0   0           1   1          0         1    1   1     1
220            0      1   1           1   1          1         1    1   1     1
3              0      1   1           1   1          1         1    1   1     1
4              0      1   1           1   1          1         1    1   1     1
4              0      1   1           1   1          1         1    1   1     0
7              0      1   1           1   1          1         1    1   0     1
4              0      1   1           1   1          1         1    0   1     1
2              0      1   1           1   1          1         0    1   1     1
6              0      1   1           1   1          0         1    1   1     1
6              0      1   1           1   0          1         1    1   1     1
4              0      1   1           0   1          1         1    1   1     1
1              0      1   0           1   1          1         1    1   1     1
2              0      0   1           1   1          1         1    1   1     1
             263    268 270         274 284        288       289  294 296   299
     ShoppingMall CryoSleep     
9887            1         1    0
240             1         0    1
239             0         1    1
8               0         0    2
240             1         1    1
9               1         0    2
5               0         1    2
236             1         1    1
7               1         0    2
4               0         1    2
1               0         0    3
10              1         1    2
232             1         1    1
10              1         0    2
5               0         1    2
2               1         1    2
3               1         1    2
234             1         1    1
3               1         0    2
3               0         1    2
7               1         1    2
5               1         1    2
8               1         1    2
1               0         1    3
227             1         1    1
4               1         0    2
7               0         1    2
7               1         1    2
2               1         1    2
7               1         1    2
1               1         0    3
2               0         1    3
3               1         1    2
234             1         1    1
4               1         0    2
3               0         1    2
1               0         0    3
2               1         1    2
4               1         1    2
5               1         1    2
1               1         0    3
4               1         1    2
8               1         1    2
1               1         1    3
214             1         1    1
5               1         0    2
8               0         1    2
1               1         1    2
1               1         0    3
5               1         1    2
3               1         1    2
1               1         1    3
4               1         1    2
1               1         1    3
5               1         1    2
1               1         1    3
4               1         1    2
1               1         0    3
219             1         1    1
3               1         0    2
6               0         1    2
3               1         1    2
8               1         1    2
1               1         1    3
3               1         1    2
4               1         1    2
3               1         1    2
1               0         1    3
1               1         1    2
1               1         1    3
7               1         1    2
1               1         1    3
211             1         1    1
7               1         0    2
8               0         1    2
4               1         1    2
1               1         0    3
5               1         1    2
8               1         1    2
2               1         1    2
4               1         1    2
7               1         1    2
1               1         1    3
6               1         1    2
1               1         1    3
1               1         1    3
220             1         1    1
3               1         0    2
4               0         1    2
4               1         1    2
7               1         1    2
4               1         1    2
2               1         1    2
6               1         1    2
6               1         1    2
4               1         1    2
1               1         1    2
2               1         1    2
              306       310 3441</code></pre>
</div>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="co"># hard to see but assume no pattern ovbious</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Let’s impute assuming it’s random using mice, instead of manually doing median or mode.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co"># impute NAs</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>d_imp <span class="ot">&lt;-</span> <span class="fu">mice</span>(d)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
 iter imp variable
  1   1  Age  RoomService  FoodCourt  ShoppingMall  Spa  VRDeck
  1   2  Age  RoomService  FoodCourt  ShoppingMall  Spa  VRDeck
  1   3  Age  RoomService  FoodCourt  ShoppingMall  Spa  VRDeck
  1   4  Age  RoomService  FoodCourt  ShoppingMall  Spa  VRDeck
  1   5  Age  RoomService  FoodCourt  ShoppingMall  Spa  VRDeck
  2   1  Age  RoomService  FoodCourt  ShoppingMall  Spa  VRDeck
  2   2  Age  RoomService  FoodCourt  ShoppingMall  Spa  VRDeck
  2   3  Age  RoomService  FoodCourt  ShoppingMall  Spa  VRDeck
  2   4  Age  RoomService  FoodCourt  ShoppingMall  Spa  VRDeck
  2   5  Age  RoomService  FoodCourt  ShoppingMall  Spa  VRDeck
  3   1  Age  RoomService  FoodCourt  ShoppingMall  Spa  VRDeck
  3   2  Age  RoomService  FoodCourt  ShoppingMall  Spa  VRDeck
  3   3  Age  RoomService  FoodCourt  ShoppingMall  Spa  VRDeck
  3   4  Age  RoomService  FoodCourt  ShoppingMall  Spa  VRDeck
  3   5  Age  RoomService  FoodCourt  ShoppingMall  Spa  VRDeck
  4   1  Age  RoomService  FoodCourt  ShoppingMall  Spa  VRDeck
  4   2  Age  RoomService  FoodCourt  ShoppingMall  Spa  VRDeck
  4   3  Age  RoomService  FoodCourt  ShoppingMall  Spa  VRDeck
  4   4  Age  RoomService  FoodCourt  ShoppingMall  Spa  VRDeck
  4   5  Age  RoomService  FoodCourt  ShoppingMall  Spa  VRDeck
  5   1  Age  RoomService  FoodCourt  ShoppingMall  Spa  VRDeck
  5   2  Age  RoomService  FoodCourt  ShoppingMall  Spa  VRDeck
  5   3  Age  RoomService  FoodCourt  ShoppingMall  Spa  VRDeck
  5   4  Age  RoomService  FoodCourt  ShoppingMall  Spa  VRDeck
  5   5  Age  RoomService  FoodCourt  ShoppingMall  Spa  VRDeck</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Number of logged events: 9</code></pre>
</div>
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>           <span class="co">#method = "cart")</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>d_imp</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Class: mids
Number of multiple imputations:  5 
Imputation methods:
 PassengerId   HomePlanet    CryoSleep        Cabin  Destination          Age 
          ""           ""           ""           ""           ""        "pmm" 
         VIP  RoomService    FoodCourt ShoppingMall          Spa       VRDeck 
          ""        "pmm"        "pmm"        "pmm"        "pmm"        "pmm" 
        Name  Transported          dat 
          ""           ""           "" 
PredictorMatrix:
            PassengerId HomePlanet CryoSleep Cabin Destination Age VIP
PassengerId           0          0         0     0           0   1   0
HomePlanet            0          0         0     0           0   0   0
CryoSleep             0          0         0     0           0   0   0
Cabin                 0          0         0     0           0   0   0
Destination           0          0         0     0           0   0   0
Age                   0          0         0     0           0   0   0
            RoomService FoodCourt ShoppingMall Spa VRDeck Name Transported dat
PassengerId           1         1            1   1      1    0           0   0
HomePlanet            0         0            0   0      0    0           0   0
CryoSleep             0         0            0   0      0    0           0   0
Cabin                 0         0            0   0      0    0           0   0
Destination           0         0            0   0      0    0           0   0
Age                   1         1            1   1      1    0           0   0
Number of logged events:  9 
  it im dep     meth         out
1  0  0     constant PassengerId
2  0  0     constant  HomePlanet
3  0  0     constant   CryoSleep
4  0  0     constant       Cabin
5  0  0     constant Destination
6  0  0     constant         VIP</code></pre>
</div>
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(<span class="fu">complete</span>(d_imp))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  PassengerId HomePlanet CryoSleep Cabin   Destination Age   VIP RoomService
1     0001_01     Europa     False B/0/P   TRAPPIST-1e  39 False           0
2     0002_01      Earth     False F/0/S   TRAPPIST-1e  24 False         109
3     0003_01     Europa     False A/0/S   TRAPPIST-1e  58  True          43
4     0003_02     Europa     False A/0/S   TRAPPIST-1e  33 False           0
5     0004_01      Earth     False F/1/S   TRAPPIST-1e  16 False         303
6     0005_01      Earth     False F/0/P PSO J318.5-22  44 False           0
  FoodCourt ShoppingMall  Spa VRDeck              Name Transported   dat
1         0            0    0      0   Maham Ofracculy       False train
2         9           25  549     44      Juanna Vines        True train
3      3576            0 6715     49     Altark Susent       False train
4      1283          371 3329    193      Solam Susent       False train
5        70          151  565      2 Willy Santantines        True train
6       483            0  291      0 Sandie Hinetthews        True train</code></pre>
</div>
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>d_imp <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="fu">complete</span>(d_imp))</span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a><span class="fu">sapply</span>(d_imp, <span class="cf">function</span>(df){<span class="fu">sum</span>(<span class="fu">is.na</span>(df)<span class="sc">==</span><span class="cn">TRUE</span>);})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> PassengerId   HomePlanet    CryoSleep        Cabin  Destination          Age 
           0          288          310          299          274            0 
         VIP  RoomService    FoodCourt ShoppingMall          Spa       VRDeck 
         296            0            0            0            0            0 
        Name  Transported          dat 
         294            0            0 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>d <span class="ot">&lt;-</span> d_imp</span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a><span class="co"># validate no more NA</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="co"># missing values</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a><span class="co"># corr</span></span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a><span class="co"># y</span></span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a><span class="co"># univariate EDA to get to know the vars</span></span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a><span class="co"># univ eda to check potential of prediction</span></span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a><span class="co"># basic rpart</span></span>
<span id="cb47-7"><a href="#cb47-7" aria-hidden="true" tabindex="-1"></a><span class="co"># caret algos - rf, xgb, mn, etc...</span></span>
<span id="cb47-8"><a href="#cb47-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-9"><a href="#cb47-9" aria-hidden="true" tabindex="-1"></a><span class="co"># setwd(wd) - figure out how to make work at knitr root.dir option</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="quarto" class="level2">
<h2 class="anchored" data-anchor-id="quarto">Quarto</h2>
<p>Quarto enables you to weave together content and executable code into a finished document. To learn more about Quarto see <a href="https://quarto.org" class="uri">https://quarto.org</a>.</p>
</section>
<section id="running-code" class="level2">
<h2 class="anchored" data-anchor-id="running-code">Running Code</h2>
<p>When you click the <strong>Render</strong> button a document will be generated that includes both content and the output of embedded code. You can embed code like this:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> <span class="sc">+</span> <span class="dv">1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2</code></pre>
</div>
</div>
<p>You can add options to executable code like this</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[1] 4</code></pre>
</div>
</div>
<p>The <code>echo: false</code> option disables the printing of code (only output is displayed).</p>
<p>Hola soy Walter y estoy probando R</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>wd <span class="ot">&lt;-</span> <span class="st">"C:/GitHub/spaceship_titanic/"</span></span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a><span class="fu">setwd</span>(wd)</span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a>train <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"./data/train.csv"</span>,</span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a>                  <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Y ahora print la head</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(train)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  PassengerId HomePlanet CryoSleep Cabin   Destination Age   VIP RoomService
1     0001_01     Europa     False B/0/P   TRAPPIST-1e  39 False           0
2     0002_01      Earth     False F/0/S   TRAPPIST-1e  24 False         109
3     0003_01     Europa     False A/0/S   TRAPPIST-1e  58  True          43
4     0003_02     Europa     False A/0/S   TRAPPIST-1e  33 False           0
5     0004_01      Earth     False F/1/S   TRAPPIST-1e  16 False         303
6     0005_01      Earth     False F/0/P PSO J318.5-22  44 False           0
  FoodCourt ShoppingMall  Spa VRDeck              Name Transported
1         0            0    0      0   Maham Ofracculy       False
2         9           25  549     44      Juanna Vines        True
3      3576            0 6715     49     Altark Susent       False
4      1283          371 3329    193      Solam Susent       False
5        70          151  565      2 Willy Santantines        True
6       483            0  291      0 Sandie Hinetthews        True</code></pre>
</div>
</div>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>